<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Wed Mar 23 11:14:50 2022 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>KEYMAPS</title>

</head>
<body>

<h1 align="center">KEYMAPS</h1>

<a href="#NAME">NAME</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#INCLUDE FILES">INCLUDE FILES</a><br>
<a href="#CHARSET DEFINITIONS">CHARSET DEFINITIONS</a><br>
<a href="#COMPLETE KEYCODE DEFINITIONS">COMPLETE KEYCODE DEFINITIONS</a><br>
<a href="#SINGLE MODIFIER DEFINITIONS">SINGLE MODIFIER DEFINITIONS</a><br>
<a href="#STRING DEFINITIONS">STRING DEFINITIONS</a><br>
<a href="#COMPOSE DEFINITIONS">COMPOSE DEFINITIONS</a><br>
<a href="#ABBREVIATIONS">ABBREVIATIONS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">keymaps -
keyboard table descriptions for loadkeys and dumpkeys</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">These files are
used by <b>loadkeys</b>(1) to modify the translation tables
used by the kernel keyboard driver and generated by
<b>dumpkeys</b>(1) from those translation tables.</p>

<p style="margin-left:11%; margin-top: 1em">The format of
these files is vaguely similar to the one accepted by
<b>xmodmap</b>(1). The file consists of charset or key or
string definition lines interspersed with comments.</p>

<p style="margin-left:11%; margin-top: 1em">Comments are
introduced with <b>!</b> or <b>#</b> characters and continue
to the end of the line. Anything following one of these
characters on that line is ignored. Note that comments need
not begin from column one as with <b>xmodmap</b>(1).</p>

<p style="margin-left:11%; margin-top: 1em">The syntax of
keymap files is line oriented; a complete definition must
fit on a single logical line. Logical lines can, however, be
split into multiple physical lines by ending each subline
with the backslash character (\).</p>

<h2>INCLUDE FILES
<a name="INCLUDE FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">A keymap can
include other keymaps using the syntax</p>

<p style="margin-left:22%; margin-top: 1em">include
&quot;pathname&quot;</p>

<h2>CHARSET DEFINITIONS
<a name="CHARSET DEFINITIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">A character set
definition line is of the form:</p>

<pre style="margin-left:22%; margin-top: 1em">charset &quot;iso-8859-x&quot;</pre>


<p style="margin-left:11%; margin-top: 1em">It defines how
following keysyms are to be interpreted. For example, in
iso-8859-1 the symbol mu (or micro) has code 0265, while in
iso-8859-7 the letter mu has code 0354.</p>

<h2>COMPLETE KEYCODE DEFINITIONS
<a name="COMPLETE KEYCODE DEFINITIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Each complete
key definition line is of the form:</p>

<p style="margin-left:22%; margin-top: 1em"><b>keycode</b>
<i>keynumber</i> <b>=</b> <i>keysym keysym keysym</i>...</p>


<p style="margin-left:11%; margin-top: 1em"><i>keynumber</i>
is the internal identification number of the key, roughly
equivalent to the scan code of it. <i>keynumber</i> can be
given in decimal, octal or hexadecimal notation. Octal is
denoted by a leading zero and hexadecimal by the prefix
<b>0x.</b></p>

<p style="margin-left:11%; margin-top: 1em">Each of the
<i>keysyms</i> represent keyboard actions, of which up to
256 can be bound to a single key. The actions available
include outputting character codes or character sequences,
switching consoles or keymaps, booting the machine etc. (The
complete list can be obtained from <b>dumpkeys</b>(1) by
saying <b>dumpkeys -l</b> .)</p>

<p style="margin-left:11%; margin-top: 1em">Each
<i>keysym</i> may be prefixed by a '+' (plus sign), in which
case this keysym is treated as a &quot;letter&quot; and
therefore affected by the &quot;CapsLock&quot; the same way
as by &quot;Shift&quot; (to be correct, the CapsLock inverts
the Shift state). The ASCII letters ('a'-'z' and 'A'-'Z')
are made CapsLock'able by default. If Shift+CapsLock should
not produce a lower case symbol, put lines like</p>

<p style="margin-left:22%; margin-top: 1em"><b>keycode 30 =
+a A</b></p>

<p style="margin-left:11%; margin-top: 1em">in the map
file.</p>

<p style="margin-left:11%; margin-top: 1em">Which of the
actions bound to a given key is taken when it is pressed
depends on what modifiers are in effect at that moment. The
keyboard driver supports 9 modifiers. These modifiers are
labeled (completely arbitrarily) Shift, AltGr, Control, Alt,
ShiftL, ShiftR, CtrlL, CtrlR and CapsShift. Each of these
modifiers has an associated weight of power of two according
to the following table:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="12%">


<p><i>modifier</i></p></td>
<td width="18%"></td>
<td width="10%">


<p><i>weight</i></p></td>
<td width="38%">
</td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Shift 1 <br>
AltGr 2 <br>
Control 4 <br>
Alt 8 <br>
ShiftL 16 <br>
ShiftR 32 <br>
CtrlL 64 <br>
CtrlR 128 <br>
CapsShift 256</p>

<p style="margin-left:11%; margin-top: 1em">The effective
action of a key is found out by adding up the weights of all
the modifiers in effect. By default, no modifiers are in
effect, so action number zero, i.e. the one in the first
column in a key definition line, is taken when the key is
pressed or released. When e.g. Shift and Alt modifiers are
in effect, action number nine (from the 10th column) is the
effective one.</p>

<p style="margin-left:11%; margin-top: 1em">Changing the
state of what modifiers are in effect can be achieved by
binding appropriate key actions to desired keys. For
example, binding the symbol Shift to a key sets the Shift
modifier in effect when that key is pressed and cancels the
effect of that modifier when the key is released. Binding
AltGr_Lock to a key sets AltGr in effect when the key is
pressed and cancels the effect when the key is pressed
again. (By default Shift, AltGr, Control and Alt are bound
to the keys that bear a similar label; AltGr may denote the
right Alt key.)</p>

<p style="margin-left:11%; margin-top: 1em">Note that you
should be very careful when binding the modifier keys,
otherwise you can end up with an unusable keyboard mapping.
If you for example define a key to have Control in its first
column and leave the rest of the columns to be VoidSymbols,
you're in trouble. This is because pressing the key puts
Control modifier in effect and the following actions are
looked up from the fifth column (see the table above). So,
when you release the key, the action from the fifth column
is taken. It has VoidSymbol in it, so nothing happens. This
means that the Control modifier is still in effect, although
you have released the key. Re-pressing and releasing the key
has no effect. To avoid this, you should always define all
the columns to have the same modifier symbol. There is a
handy short-hand notation for this, see below.</p>

<p style="margin-left:11%; margin-top: 1em"><i>keysyms</i>
can be given in decimal, octal, hexadecimal, unicode or
symbolic notation. The numeric notations use the same format
as with <i>keynumber</i>. Unicode notation is &quot;U+&quot;
followed by four hexadecimal digits. The symbolic notation
resembles that used by <b>xmodmap</b>(1). Notable
differences are the number symbols. The numeric symbols '0',
..., '9' of <b>xmodmap</b>(1) are replaced with the
corresponding words 'zero', 'one', ... 'nine' to avoid
confusion with the numeric notation.</p>

<p style="margin-left:11%; margin-top: 1em">It should be
noted that using numeric notation for the <i>keysyms</i> is
highly unportable as the key action numbers may vary from
one kernel version to another and the use of numeric
notations is thus strongly discouraged. They are intended to
be used only when you know there is a supported keyboard
action in your kernel for which your current version of
<b>loadkeys</b>(1) has no symbolic name.</p>

<p style="margin-left:11%; margin-top: 1em">There is a
number of short-hand notations to add readability and reduce
typing work and the probability of typing-errors.</p>

<p style="margin-left:11%; margin-top: 1em">First of all,
you can give a map specification line, of the form</p>

<pre style="margin-left:22%; margin-top: 1em">keymaps 0-2,4-5,8,12</pre>


<p style="margin-left:11%; margin-top: 1em">to indicate
that the lines of the keymap will not specify all 256
columns, but only the indicated ones. (In the example: only
the plain, Shift, AltGr, Control, Control+Shift, Alt and
Control+Alt maps, that is, 7 columns instead of 256.) When
no such line is given, the keymaps 0-M will be defined,
where M+1 is the maximum number of entries found in any
definition line.</p>

<p style="margin-left:11%; margin-top: 1em">Next, you can
leave off any trailing VoidSymbol entries from a key
definition line. VoidSymbol denotes a keyboard action which
produces no output and has no other effects either. For
example, to define key number 30 to output 'a' unshifted,
'A' when pressed with Shift and do nothing when pressed with
AltGr or other modifiers, you can write</p>

<p style="margin-left:22%; margin-top: 1em">keycode 30 = a
A</p>

<p style="margin-left:11%; margin-top: 1em">instead of the
more verbose</p>

<p style="margin-left:22%; margin-top: 1em">keycode 30 = a
A VoidSymbol VoidSymbol \</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">
</td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%"></td>
<td width="77%">


<p>VoidSymbol VoidSymbol VoidSymbol ...</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">For added
convenience, you can usually get off with still more terse
definitions. If you enter a key definition line with only
and exactly one action code after the equals sign, it has a
special meaning. If the code (numeric or symbolic) is not an
ASCII letter, it means the code is implicitly replicated
through all columns being defined. If, on the other hand,
the action code is an ASCII character in the range 'a', ...,
'z' or 'A', ..., 'Z' in the ASCII collating sequence, the
following definitions are made for the different modifier
combinations, provided these are actually being defined.
(The table lists the two possible cases: either the single
action code is a lower case letter, denoted by 'x' or an
upper case letter, denoted by 'Y'.)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="35%">


<p style="margin-top: 1em"><i>modifier</i></p></td>
<td width="2%"></td>
<td width="44%">


<p style="margin-top: 1em"><i>symbol</i></p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="35%">


<p>none</p></td>
<td width="2%"></td>
<td width="44%">


<p>x Y</p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="35%">


<p>Shift</p></td>
<td width="2%"></td>
<td width="44%">


<p>X y</p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="35%">


<p>AltGr</p></td>
<td width="2%"></td>
<td width="44%">


<p>x Y</p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="35%">


<p>Shift+AltGr</p></td>
<td width="2%"></td>
<td width="44%">


<p>X y</p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="35%">


<p>Control</p></td>
<td width="2%"></td>
<td width="44%">


<p>Control_x Control_y</p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="35%">


<p>Shift+Control</p></td>
<td width="2%"></td>
<td width="44%">


<p>Control_x Control_y</p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="35%">


<p>AltGr+Control</p></td>
<td width="2%"></td>
<td width="44%">


<p>Control_x Control_y</p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="35%">


<p>Shift+AltGr+Control</p></td>
<td width="2%"></td>
<td width="44%">


<p>Control_x Control_y</p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="35%">


<p>Alt</p></td>
<td width="2%"></td>
<td width="44%">


<p>Meta_x Meta_Y</p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="35%">


<p>Shift+Alt</p></td>
<td width="2%"></td>
<td width="44%">


<p>Meta_X Meta_y</p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="35%">


<p>AltGr+Alt</p></td>
<td width="2%"></td>
<td width="44%">


<p>Meta_x Meta_Y</p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="35%">


<p>Shift+AltGr+Alt</p></td>
<td width="2%"></td>
<td width="44%">


<p>Meta_X Meta_y</p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="35%">


<p>Control+Alt</p></td>
<td width="2%"></td>
<td width="44%">


<p>Meta_Control_x Meta_Control_y</p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="35%">


<p>Shift+Control+Alt</p></td>
<td width="2%"></td>
<td width="44%">


<p>Meta_Control_x Meta_Control_y</p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="35%">


<p>AltGr+Control+Alt</p></td>
<td width="2%"></td>
<td width="44%">


<p>Meta_Control_x Meta_Control_y</p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="35%">


<p>Shift+AltGr+Control+Alt</p></td>
<td width="2%"></td>
<td width="44%">


<p>Meta_Control_x Meta_Control_y</p></td>
<td width="2%">
</td></tr>
</table>

<h2>SINGLE MODIFIER DEFINITIONS
<a name="SINGLE MODIFIER DEFINITIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">All the
previous forms of key definition lines always define all the
M+1 possible modifier combinations being defined, whether
the line actually contains that many action codes or not.
There is, however, a variation of the definition syntax for
defining only single actions to a particular modifier
combination of a key. This is especially useful, if you load
a keymap which doesn't match your needs in only some
modifier combinations, like AltGr+function keys. You can
then make a small local file redefining only those modifier
combinations and loading it after the main file. The syntax
of this form is:</p>

<p style="margin-left:11%; margin-top: 1em">{ <b>plain</b>
| &lt;modifier sequence&gt; } <b>keycode</b>
<i>keynumber</i> <b>=</b> <i>keysym</i></p>

<p style="margin-left:11%; margin-top: 1em">, e.g.,</p>

<pre style="margin-left:22%;">plain keycode 14 = BackSpace
control alt keycode 83 = Boot
alt keycode 105 = Decr_Console
alt keycode 106 = Incr_Console</pre>


<p style="margin-left:11%;">Using &quot;plain&quot; will
define only the base entry of a key (i.e. the one with no
modifiers in effect) without affecting the bindings of other
modifier combinations of that key.</p>

<h2>STRING DEFINITIONS
<a name="STRING DEFINITIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">In addition to
comments and key definition lines, a keymap can contain
string definitions. These are used to define what each
function key action code sends. The syntax of string
definitions is:</p>

<p style="margin-left:22%; margin-top: 1em"><b>string</b>
<i>keysym</i> <b>= &quot;</b><i>text</i><b>&quot;</b></p>

<p style="margin-left:11%; margin-top: 1em"><i>text</i> can
contain literal characters, octal character codes in the
format of backslash followed by up to three octal digits,
and the three escape sequences <b>\n</b>, <b>\\</b>, and
<b>\&quot;</b>, for newline, backslash and quote,
respectively.</p>

<h2>COMPOSE DEFINITIONS
<a name="COMPOSE DEFINITIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Then there may
also be compose definitions. They have syntax</p>

<p style="margin-left:22%; margin-top: 1em"><b>compose
'</b><i>char</i><b>' '</b><i>char</i><b>' to
'</b><i>char</i><b>'</b></p>

<p style="margin-left:11%;">and describe how two bytes are
combined to form a third one (when a dead accent or compose
key is used). This is used to get accented letters and the
like on a standard keyboard.</p>

<h2>ABBREVIATIONS
<a name="ABBREVIATIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Various
abbreviations can be used with kbd-0.96 and later. <b><br>
strings as usual</b></p>

<p style="margin-left:22%;">Defines the usual values of the
strings (but not the keys they are bound to).</p>

<p style="margin-left:11%;"><b>compose as usual for
&quot;iso-8859-1&quot;</b></p>

<p style="margin-left:22%;">Defines the usual compose
combinations.</p>

<p style="margin-left:11%; margin-top: 1em">To find out
what <i>keysyms</i> there are available for use in keymaps,
use the command</p>

<p style="margin-left:22%; margin-top: 1em"><b>dumpkeys
--long-info</b></p>

<p style="margin-left:11%; margin-top: 1em">Unfortunately,
there is currently no description of what each symbol does.
It has to be guessed from the name or figured out from the
kernel sources.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">(Be careful to
use a keymaps line, like the first line of `dumpkeys`, or
&quot;keymaps 0-15&quot; or so.)</p>

<p style="margin-left:11%; margin-top: 1em">The following
entry exchanges the left Control key and the Caps Lock key
on the keyboard:</p>

<p style="margin-left:22%; margin-top: 1em">keycode 58 =
Control <br>
keycode 29 = Caps_Lock</p>

<p style="margin-left:11%; margin-top: 1em">Key number 58
is normally the Caps Lock key, and key number 29 is normally
the Control key.</p>

<p style="margin-left:11%; margin-top: 1em">The following
entry sets the Shift and Caps Lock keys to behave more
nicely, like in older typewriters. That is, pressing Caps
Lock key once or more sets the keyboard in CapsLock state
and pressing either of the Shift keys releases it.</p>

<p style="margin-left:22%; margin-top: 1em">keycode 42 =
Uncaps_Shift <br>
keycode 54 = Uncaps_Shift <br>
keycode 58 = Caps_On</p>

<p style="margin-left:11%; margin-top: 1em">The following
entry sets the layout of the edit pad in the enhanced
keyboard to be more like that in the VT200 series
terminals:</p>

<p style="margin-left:22%; margin-top: 1em">keycode 102 =
Insert <br>
keycode 104 = Remove <br>
keycode 107 = Prior <br>
shift keycode 107 = Scroll_Backward <br>
keycode 110 = Find <br>
keycode 111 = Select <br>
control alt keycode 111 = Boot <br>
control altgr keycode 111 = Boot</p>

<p style="margin-left:11%; margin-top: 1em">Here's an
example to bind the string &quot;du\ndf\n&quot; to the key
AltGr-D. We use the &quot;spare&quot; action code F100 not
normally bound to any key.</p>

<p style="margin-left:22%; margin-top: 1em">altgr keycode
32 = F100 <br>
string F100 = &quot;du\ndf\n&quot;</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>loadkeys</b>(1),
<b>dumpkeys</b>(1), <b>showkey</b>(1), <b>xmodmap</b>(1)</p>
<hr>
</body>
</html>

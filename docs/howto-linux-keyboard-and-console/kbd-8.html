<!DOCTYPE html>		
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
		<title>The Linux keyboard and console HOWTO: Ctrl-Alt-Del and other special key combinations</title>
	</head>
	<body class="container">
		<nav>
			<ul class="pagination">
				<li class="page-item"><a class="page-link" href="kbd-7.html">Previous</a></li>
				<li class="page-item"><a class="page-link" href="kbd-9.html">Next</a></li>
			</ul>
		</nav>

		<div class="page-header">
			<h2><a name="s8">Ctrl-Alt-Del and other special key combinations</a></h2>
		</div>
		<div class="page-header">
			<h3><a name="ss8.1">Ctrl-Alt-Del (Boot)</a></h3>
		</div>

		<p>If you press Ctrl-Alt-Del (or whatever key was assigned the keysym Boot by
		loadkeys) then either the machine reboots immediately (without sync), or
		<code>init</code> is sent a SIGINT. The former behaviour is the default. The default
		can be changed by root, using the system call reboot(), see ctrlaltdel(8).
		Some <code>init</code>'s change the default. What happens when <code>init</code> gets SIGINT depends
		on the version of <code>init</code> used - often it will be determined by the pf entry in
		<code>/etc/inittab</code> (which means that you can run an arbitrary program
		in this case).
		In the current kernel Ctrl-AltGr-Del is no longer by default assigned to Boot.</p>

		<div class="page-header">
			<h3><a name="ss8.2">Other combinations</a></h3>
		</div>

		<p>
		<pre>
Name            Default binding
-------------------------------
Show_Memory     Shift-ScrollLock
Show_Registers  AltGr-ScrollLock
Show_State      Ctrl-ScrollLock
Console_n       Alt-Fn and Ctrl-Alt-Fn  (1 &lt;= n &lt;= 12)
Console_{n+12}  AltGr-Fn                (1 &lt;= n &lt;= 12)
Incr_Console    Alt-RightArrow
Decr_Console    Alt-LeftArrow
Last_Console    Alt[Gr]-PrintScreen
Scroll_Backward Shift-PageUp
Scroll_Forward  Shift-PageDown
Caps_On                                 (CapsLock is a toggle; this key sets)
Compose         Ctrl-.
</pre>
		</p>

		<div class="page-header">
			<h3><a name="ss8.3">X Combinations</a></h3>
		</div>

		<p>
		<pre>
Ctrl-Alt-Fn     Switch to VT n
Ctrl-Alt-KP+    Next mode
Ctrl-Alt-KP-    Previous mode
Ctrl-Alt-Backspace      Kill X
</pre>

		On some motherboards, Ctrl-Alt-KP- and Ctrl-Alt-KP+ will be equivalent to
		pressing the Turbo button. That is, both will produce the scancodes
		1d 38 4a ca b8 9d and 1d 38 4e ce b8 9d, and both will switch between
		Turbo (&gt;= 25MHz) and non-Turbo (8 or 12 MHz).
		(Often these key combinations only function this way when enabled
		by jumpers on the motherboard.)</p>

		<p>Perry F Nguyen (<code>pfnguyen@netcom22.netcom.com</code>) writes:
		AMI BIOS has a feature that locks up the keyboard and flashes the LED's
		if the Ctrl-Alt-Backspace combination is pressed while a BIOS password
		is enabled, until the CMOS/BIOS password is typed in.</p>

		<p>On some SiS based motherboards the combination Ctrl-Alt-Backspace
		will cause a power off, or puts the machine in power save mode.
		(Reported for SiS 630 and for SiS645DX.)</p>

		<div class="page-header">
			<h3><a name="ss8.4">Dosemu Combinations</a></h3>
		</div>

		<p>
		<pre>
Ctrl-Alt-Fn     Switch to VT n (from version 0.50; earlier Alt-Fn)
Ctrl-Alt-PgDn   Kill dosemu (when in RAW keyboard mode)
(and many other combinations - see the dosemu documentation)
</pre>
		</p>

		<div class="page-header">
			<h3><a name="ss8.5">Composing symbols</a></h3>
		</div>

		<p>One symbol may be constructed using several keystrokes.
		<ul>
			<li>LeftAlt-press, followed by a decimal number typed on the keypad, followed
			by LeftAlt-release, yields the symbol with code given by this number.
			(In Unicode mode this same mechanism, but then with 4 hexadecimal digits,
			may be used to define a Unicode symbol.)</li>

			<li>A dead diacritic followed by a symbol, yields that symbol adorned with
			that diacritic. If the combination is undefined, both keys are taken
			separately.
			Which keys are dead diacritics is user-settable; none is by default.
			Five (since 2.0.25 six) dead diacritics can be defined (using loadkeys(1)):
			dead_grave, dead_acute, dead_circumflex, dead_tilde, dead_diaeresis
			(and dead_cedilla).
			Precisely what this adorning means is also user-settable:
			dead-diacritic, symbol is equivalent to Compose + diacritic + symbol.</li>

			<li>Compose followed by two symbols yields a combination symbol. These
			combinations are user-settable. Today there are 68 combinations
			defined by default; you can see them by saying "dumpkeys | grep compose".</li>

			<li>Then there are `Sticky' modifier keys (since 1.3.33). For example,
			one can type Ctrl-C as SControl, C and Ctrl-Alt-BackSpace as SControl,
			SAlt, BackSpace.</li>
		</ul>

		<p>Note that there are at least four such composition mechanisms:
		<ol>
			<li>The Linux keyboard driver mechanism, used in conjunction with loadkeys.</li>

			<li>The X mechanism - see X386keybd(1), later XFree86kbd(1).
			Under X11R6: edit <code>/usr/X11R6/lib/X11/locale/iso8859-1/Compose</code>.<p>See also Andrew D. Balsa's comments at
			<A HREF="http://wauug.erols.com/~balsa/linux/deadkeys/index.html">http://wauug.erols.com/~balsa/linux/deadkeys/index.html</A>.
			</li>

			<li>The emacs mechanism obtained by loading "iso-insert.el" or
			calling `iso-accents-mode'.</li>

			<li>The vim mechanism: insert a composed symbol by pressing Ctrl-K
			followed by two symbols. A list of the possible combinations is
			obtained by the command <code>:digraphs</code>.</li>
		</ol>

		For X the order of the two symbols is arbitrary: both Compose-,-c and
		Compose-c-, yield a c-cedilla; for Linux and emacs only the former sequence
		works by default. For X and vim the list of compose combinations is fixed.
		Linux and emacs are flexible.
		The default lists are somewhat similar, but the details are different.</p>

		<div class="page-header">
			<h3><a name="ss8.6">The SysRq key</a></h3>
		</div>

		<p>In case your kernel was compiled with CONFIG_MAGIC_SYSRQ enabled
		(a feature that is present since Linux 2.1.43)
		there is a single key (defined in <code>&lt;linux/keyboard.h&gt;</code>)
		to which special system functions are attached, regardless of the
		current keyboard mode. For the PC architecture this special key is,
		naturally, the Alt+SysRq key, and any of the two Alt keys will work.
		(Note that if CONFIG_MAGIC_SYSRQ was not enabled, the default action
		of this key is to return to the previous console.)</p>

		<p>If you press this key, do not release it, and hit another key,
		a corresponding action is performed. The action is performed whether
		anybody is logged in or not, is root or not. For the details, see
		<code>drivers/char/sysrq.c</code>. Since this feature is meant only
		for kernel hackers, that should suffice. Still, let me add a few
		remarks.</p>

		<p>For the key r the keyboard mode is reset to K_XLATE.
		For the key k a SAK and console reset is done.
		For the key b the machine is rebooted immediately.
		(See, not something you want to have enabled on a production machine.)
		For the key o the power is turned off (when the machine is capable of that).
		For the key s an emergency sync is scheduled.
		For the key u an emergency read-only remount is scheduled.
		For the keys p,t,m various information is shown
		(namely the same information also shown for RAlt,RCtrl,RShift+ScrollLock).
		For the keys e,i,l all processes get a SIG_TERM or SIG_KILL, respectively;
		for l even the init process is killed.
		Digits set the log level. Anything else prints a short summary:
		<code>SysRq: unRaw saK Boot Off Sync Unmount showPc showTasks showMem
		loglevel0-8 tErm kIll killalL</code>.</p>

		<p>Note: These are very dangerous actions! And they do not use your
		keymap - indeed, are meant for emergency cases where the state
		of your keymap, or even of the entire kernel, is uncertain.
		If you use a dvorak keyboard - bad luck! Most other people will
		be able to survive: the dangerous letters A,M,Q,W,Y,Z that are
		differently placed on English, French and German keyboards, are
		not used for actions. (But if your finger slips and you hit L
		instead of K - bye bye to your system.)</p>

		<p>In Linux 2.3.13 the possibility to enable/disable SysRq was added.
		<pre>
        echo 0 > /proc/sys/kernel/sysrq
</pre>

		will disable it (if the kernel was compiled with CONFIG_MAGIC_SYSRQ).
		</p>

		<div class="page-header">
			<h3><a name="ss8.7">Problems</a></h3>
		</div>

		<p>A good keyboard accurately reports multiple key presses.
		Especially for people using a keyboard as Braille input device,
		where they have to be able to press up to six keys simultaneously,
		this is important. Many modern keyboards fail here due to sloppy
		design and testing - they misreport or fail in other ways when
		four or more keys are pressed simultaneously, sometimes already
		when two non-modifier keys are pressed simultaneously.
		This affects Linux users a bit: the SysRq key is not a modifier key,
		and people report problems using Alt-SysRq-<i>X</i> for various
		letters or digits <i>X</i>.</p>

		<p>Long ago a similar problem (`ghosting') was caused by the design
		of the scan matrix: when three keys were pressed a fourth was
		also seen. That problem was solved by the use of diodes.
		Today it is the interface logic that is deficient.</p>

		<hr/>
		<nav>
			<ul class="pagination">
				<li class="page-item"><a class="page-link" href="kbd-7.html">Previous</a></li>
				<li class="page-item"><a class="page-link" href="kbd-9.html">Next</a></li>
			</ul>
		</nav>
	</body>
</html>

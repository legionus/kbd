<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>Keyboard scancodes: Special keyboards - MF II keyboards</TITLE>
 <LINK HREF="scancodes-6.html" REL=next>
 <LINK HREF="scancodes-4.html" REL=previous>
 <LINK HREF="scancodes.html#toc5" REL=contents>
</HEAD>
<BODY>
<A HREF="scancodes-6.html">Next</A>
<A HREF="scancodes-4.html">Previous</A>
<A HREF="scancodes.html#toc5">Contents</A>
<HR>
<H2><A NAME="s5">5. Special keyboards - MF II keyboards</A></H2>

<P><I>Next the modern keyboards. (MF stands for MultiFunctional.)
The layout has changed: the function keys now form a top row.
Function keys F11 and F12 were added. The ten keypad digit keys
that served dual purposes (depending on NumLock and Shift)
were duplicated so that digits and cursor movements could be
produced without help from the Shift or Numlock keys.
Also the Alt and Ctrl keys were duplicated.
Prefixes</I> <B>e0</B> <I>and</I> <B>e1</B> <I>were introduced
to distinguish old and new versions of the same old key.
All modern keyboards follow this scheme, but many add a messy
collection of "internet buttons" and "CD keys".</I>
<P>For keyboards with "Internet keys", see the next section.
<P>
<H2><A NAME="nokia"></A> <A NAME="ss5.1">5.1 Nokia keyboard</A>
</H2>

<P>This 121-key 
<A HREF="nokia.jpg">Nokia keyboard</A>
has ten function keys on the left and twenty-four on
the two top rows. On the right a block with cursor keys
and a block with numeric keys. There are three LEDs.
The keys have brown markings, and sometimes also blue ones.
Where both occur, the blue markings describe the usual PC keytops.
<P>Roughly speaking, the scancodes are as expected.
The 
<A HREF="nokia-top.jpg">function keys</A> F1-F10,F11,F12
have scan codes <B>3b</B>-<B>44</B>, <B>57</B>, <B>58</B> as usual.
The keys on the upper row, labeled F13-F24, yield the same codes as
shifted F1-F12. E.g., F13 gives <B>2a</B> <B>3b</B> on press,
and <B>bb</B> <B>aa</B> on release.
The function keys F4,F11,F13-F19,F21,F24 have front labels
CrSel, AltCr, Red, Pink, Green, Yellow, Blue, Turq, White,
Col, USM.
<P>The 
<A HREF="nokia-left.jpg">ten keys on the left</A>
have the following scancodes.
First column of five:
<B>01</B> (Attn/Esc/NxtTsk), as expected for Esc;
<B>1d 3b</B> (Quit/Reset), as expected for Ctrl F1;
<B>1d 3c</B> (ExSel), as expected for Ctrl F2;
<B>1d 3d</B> (Ident/Print), as expected for Ctrl F3;
<B>1d 3e</B> (Help/EnlW), as expected for Ctrl F4.
For these last four keys (and the ChgSc/WSCtrl below) the code
becomes <B>3b</B>-<B>3e</B> (and <B>3f</B>) when left or right
Ctrl is pressed already.
Second column of five:
<B>e1 1d 45</B> ((Break)/Clear/Pause/Test), and <B>e0 46</B>
with Ctrl, as expected for Pause/Break;
<B>46</B> (ScrLock), as expected for ScrLock;
<B>e0 2a e0 37</B> (PrtSc/SysRq), and <B>e0 37</B> with
left or right Ctrl or left or right Shift, and <B>54</B>
with left or right Alt, as expected for PrtSc;
<B>1d 3f</B> (ChgSc/WSCtrl), as expected for Ctrl F5;
<B>38 e0 49</B> (Jump), as expected for Alt PgUp.
<P>On 
<A HREF="nokia-right.jpg">the right</A> a cursor key
section and a number pad.
The cursor key section has the expected block of six:
<B>e0 52</B> (Dup/Insert/PA1);
<B>e0 47</B> (Field Mark/Home/PA2);
<B>e0 49</B> (PA3/PgUp);
<B>e0 53</B> (Delete/DelWd);
<B>e0 4f</B> (ErEOF/End/ErInp);
<B>e0 51</B> (PgDn).
Next four arrow keys:
<B>e0 48</B> (Up);
<B>e0 4b</B> (Left);
<B>e0 4d</B> (Right);
<B>e0 50</B> (Down).
And in the middle <B>1d 40</B> (Home), with code as expected for Ctrl F6.
<P>Finally the numeric keypad, with the usual keys that generate the
usual codes, and a single additional key, a Tab, with <B>0f</B>
like the ordinary tab.
<P>
<FIGURE>
<EPS FILE="absent">
<IMG SRC="nokia-s.jpg">
</FIGURE>
<P>
<H2><A NAME="focus"></A> <A NAME="ss5.2">5.2 Focus KeyPro FK-9000 keyboard</A>
</H2>

<P>Raul D. Miller &lt;<CODE>rockwell@nova.umd.edu</CODE>&gt;
and Timothy C. Hagman &lt;<CODE>hagmanti@cps.msu.edu</CODE>&gt;
report:
<P><I>The keyboard is a KeyPro FK-9000.  The FCC label says it's made in
Taiwan by Focus Electronic Co, Ltd.  It has a built-in calculator.</I>
<P><I>This keyboard has twelve additional keys, with scancodes</I>
<B>55</B> (PF1),
<B>6d</B> (PF11),
<B>6f</B> (PF12),
<B>73</B> (PF2),
<B>74</B> (PF9),
<B>77</B> (PF3),
<B>78</B> (PF4),
<B>79</B> (PF5),
<B>7a</B>* (PF6),
<B>7b</B> (PF7),
<B>7c</B> (PF8),
<B>7e</B>* (PF10).
<P><I>The break codes equal the make codes ORed with 0x80, as always,
but the Linux kernel eats <B>fa</B> and <B>fe</B> as
protocol bytes.</I>
<P><I>The behavior of these keys is different from that of normal keys--
they generate nothing when pressed; then generate the above scancodes
at the normal repeat time and rate, and then generate (except for the
starred ones) their scancode ORed with 0x80 when released...</I>
<P><I>These PF keys are reprogrammable -- and programming occurs as a sequence
of keyboard actions.  Therefore, the PF keys duplicate whatever
keyboard actions occurred during their programming.
You hit the "Prog" key, then the PF key you want to program; type the
string you want to store in the key (it's limited to 14 keypresses),
and then hit the PF key again. After that, when you hit the PF key,
it sends the string, and generates its own abnormal scancode upon
release. When the key is held down, it generates the scancode repeatedly,
but does not generate the string stored in it repeatedly.</I>
<P><I>When you go to program a key, the scancodes for "PF##-" are sent
to the computer, then the scancodes for each key you hit as you
hit it (the shift, etc. keys are an exception-- they send "s-"
and such :), and then, when you hit the PF## key again to end the
programming, it sends a sequence of (at least) 18 "0e 8e"s --
Backspaces...</I>
<P><I>The program key itself doesn't generate a scancode at any time.
The same applies to the CE and AC/ON keys (part of the calculator).
There is a switch to change between calculator and keyboard mode
which generates no scancodes.</I>
<P><I>When the keyboard is in calculator mode, the entire numeric
keypad (and everything else on the right side) generates no
scancodes.</I>
<P><I>When the keyboard is not in caluclator mode, the %, MC, MR, M-,
M+, and Square Root keys all generate <B>ff</B> when pressed,
<B>ff</B> to repeat, and <B>ff</B> on release.</I>
<P><I>The little unlabeled key between the right Ctrl and right Alt
generates <B>56</B> when hit, repeats that, and then <B>d6</B>
when released, just like a normal key.</I>
<P>
<P>
<H2><A NAME="BTC"></A> <A NAME="ss5.3">5.3 BTC keyboard</A>
</H2>

<P>This keyboard has one additional key, with escaped scancode
<B>e0</B> <B>6f</B> (Macro). (Funny enough it does this
in all modes, each of the three scancode sets, translated or not.
In particular, this Macro key is the only key that generates
two bytes in scancode mode 3.)
<P>
<H2><A NAME="ss5.4">5.4 LK411 and LK450 keyboards</A>
</H2>

<P>These keyboards have seven additional keys, with escaped scancodes
<B>e0</B> <B>0f</B> (LeftCompose),
<B>e0</B> <B>3d</B> (F13),
<B>e0</B> <B>3e</B> (F14),
<B>e0</B> <B>3f</B> (Help),
<B>e0</B> <B>40</B> (Do),
<B>e0</B> <B>41</B> (F17),
<B>e0</B> <B>4e</B> (Keypad-minplus).
(LK411 has all seven. LK450 has the last six - the report did not
mention a Compose key.)
There are only two LEDs. The keycaps are unusual.
<P>In (translated) scancode Set 3 these keys give codes
<B>68</B>, <B>44</B>, <B>42</B>, <B>40</B>,
<B>3e</B>, <B>65</B>, <B>70</B>.
In untranslated Set 2, the F17 key gives <B>e0</B> <B>83</B>.
<P>An 
<A HREF="lk411.jpg">LK411 keyboard</A>,
with 
<A HREF="lk411-left.jpg">left</A>
and 
<A HREF="lk411-right.jpg">right</A> hand side enlarged.
<P>The keys labeled F18, F19, F20 produce the codes expected for
PrtSc, ScrollLock, Pause.
The keys labelled PF1, PF2, PF3, PF4 produce the codes expected for
NumLock, Keypad-/, Keypad-*, Keypad--.
The Keypad-, key produces the code <B>4e</B> expected for Keypad-+.
The Right ComposeCharacter key produces the code expected for RCtrl.
The key labelled &lt;/&gt; produces the code <B>29</B>
expected for `/~. The key labelled with `/~/(Esc) produces
the code expected for Esc.
<P>
<FIGURE>
<EPS FILE="absent">
<IMG SRC="lk411-s.jpg">
</FIGURE>
<P>
<H2><A NAME="omnikey"></A> <A NAME="ss5.5">5.5 An OmniKey keyboard</A>
</H2>

<P>This keyboard has one additional key, with escaped scancode
<B>e0</B> <B>4c</B> (Omni).
<P>For the Northgate OmniKey 101 keyboard it is said that the command
<B>e8</B> reads a 2-byte ID.
<P>
<H2><A NAME="armada"></A> <A NAME="ss5.6">5.6 Compaq Armada laptop keyboard</A>
</H2>

<P>Christian Gennerat &lt;<CODE>christian.gennerat@vz.cit.alcatel.fr</CODE>&gt; writes:
There are 4 extra keys on the Compaq Armada laptops.
The four keys are located over the Esc-F1..F12, and are labelled *1-*4.
Scancodes: <B>65</B>, <B>67</B>, <B>69</B>, <B>6b</B>.
<P>
<H2><A NAME="ss5.7">5.7 GRiD 2260 keyboard</A>
</H2>

<P>The GRiD 2260 notebook has a key producing the
<B>6c</B> scancode; I do not know the keycap.
<P>
<H2><A NAME="ss5.8">5.8 An old Olivetti keyboard</A>
</H2>

<P>Kasper Dupont &lt;kasperd@daimi.au.dk&gt; writes:
My 10 year old 102-key keyboard that came with an "Olivetti PCS 286"
actually has connectors for three additional keys just bellow Delete, End,
and PgDn. There is no keys on the connectors, I only found them because I
opened the keyboard for cleaning. The scancodes are from left to right
<B>65</B>, <B>66</B>, <B>67</B>.
<P>
<H2><A NAME="cherry81"></A> <A NAME="ss5.9">5.9 Cherry G81-3000</A>
</H2>

<P>According to 
<A HREF="http://www.delorie.com/djgpp/doc/rbinter/it/06/0.html">Delorie</A>
the "Cherry G81-3000 SAx/04" keyboard has four additional keys,
which can be made available by a user modification;
the three new keys located directly below the cursor pad's
Delete, End, and PgDn keys send make codes <B>66</B>-<B>68</B> (F19-F21);
the fourth new key, labeled (delta), sends make code <B>73</B>.
<P>
<H2><A NAME="ss5.10">5.10 Accord keyboard</A>
</H2>

<P>According to 
<A HREF="http://www.delorie.com/djgpp/doc/rbinter/it/06/0.html">Delorie</A>
the "Accord" 
<A HREF="http://www.ergonomics.co.uk/products/input/keyb7300.jpg">ergonomic keyboard</A>
with optional touchpad has an additional key above the Grey-Minus key
marked with a left-pointing triangle and labeled "Fn" in the owner's
booklet which sends make code <B>e0 68</B>.     
<P>
<H2><A NAME="ss5.11">5.11 Trust Ergonomic keyboard</A>
</H2>

<P>Frank v Waveren &lt;<CODE>fvw@var.cx</CODE>&gt; reports:
The Trust Ergo Track keyboard has one additional key (`application key'), with
escaped scancode <B>e0</B> <B>68</B>. The keycap is a triangle pointing left.
<P>
<H2><A NAME="ss5.12">5.12 Brazilian keyboards</A>
</H2>

<P>ABNT (Associação Brasileira de Normas Tecnicas) and ABNT2
are Brazilian keyboard layout standards. The plain Brazilian
keyboard has 103 keys.
<P>The Brazilian ABNT keyboard has two unusual keys,
with scancodes <B>73</B> (/?) and <B>7e</B> (Keypad-.).
The former is located to the left of the RShift (which
key therefore is less wide than usually), the latter below
the Keypad-Plus (reducing the Keypad-Plus to single height).
<P>Under Linux, the corresponding key codes are 89 and 121, respectively.
These keys do not function with Windows NT 4.0.
<P>Antonio Dias &lt;<CODE>accdias@sst.com.br</CODE>&gt; provided the
<A HREF="abnt-keypad.html">keypad layout</A>
and writes: <I>Brazilian ABNT2 keyboards come with two layouts.
In MSDOS they call them ID 274 and ID 275.</I>
<P>
<H2><A NAME="RC930"></A> <A NAME="ss5.13">5.13 RC930 keyboard</A>
</H2>

<P>Torben Fjerdingstad &lt;<CODE>tfj@olivia.ping.dk</CODE>&gt; reports:
<P><I>It's an rc930 keyboard, from Regnecentralen/RC International, Now ICL.
This keyboard has four additional keys, with scancodes</I>
<B>59</B> (A1),
<B>5a</B> (A2),
<B>5b</B> (A3),
<B>5c</B> (A4).
<P><I>The rc930/rc931 keyboards are not made anymore, because they had a
problem with fast typists, writing over 400 chars/minute.
Writing 'af&lt;space&gt;', very, very fast, did a PgUp.</I>
<P>
<H2><A NAME="prefix_80"></A> <A NAME="ss5.14">5.14 Tandberg Data keyboard</A>
</H2>

<P>Kjetil Torgrim Homme &lt;<CODE>kjetilho@ifi.uio.no</CODE>&gt; reports:
<P><I>My Tandberg Data keyboard uses the prefix <B>80</B> for
its numerous (20) extra keys. The <B>80</B> scancodes are:</I>
<P><B>11</B>, <B>12</B>, <B>13</B>, <B>14</B>, <B>16</B>,
<B>17</B>, <B>18</B>, <B>19</B>, <B>1e</B>, <B>1f</B>,
<B>20</B>, <B>21</B>, <B>22</B>, <B>23</B>, <B>25</B>,
<B>26</B>, <B>2f</B>, <B>30</B>, <B>32</B>, <B>56</B>.
<P><I>For completeness, the <B>e0</B> scancodes:</I>
<P><B>1c</B>, <B>2a</B>, <B>35</B>, <B>37</B>, <B>47</B>,
<B>48</B>, <B>49</B>, <B>4b</B>, <B>4d</B>, <B>4f</B>,
<B>50</B>, <B>51</B>, <B>52</B>, <B>53</B>.
<P><I>The <B>e1</B> scancode: <B>1d</B>.
As you can see, there is no overlap on this keyboard.</I>
<P>Harald Arnesen &lt;<CODE>gurre@start.no</CODE>&gt; gives the keycaps
for these for the Tandberg TDV5020 keyboard.
All use prefix <B>80</B> on both press and release.
<P>Thirteen keys have (Norwegian) text:
<B>11</B> HJELP (help), <B>14</B> STRYK (cut),
<B>16</B> KOPI (copy), <B>17</B> FLYTT (move),
<B>19</B> JUST (justify), <B>21</B> MERK (mark),
<B>22</B> ANGRE (undo), <B>23</B> SKRIV (print),
<B>25</B> SLUTT (exit), <B>26</B> FELT (field),
<B>2f</B> AVSN (paragraph), <B>30</B> SETN (sentence),
and <B>32</B> ORD (word).
<P>Seven keys have symbols: <B>12</B> /\/\/\ (insert soft hyphen),
<B>13</B> [Crossed down-arrow] (move down five lines),
<B>18</B> &gt;&gt; &lt;&lt; (justify left/right),
<B>1e</B> &lt;&gt; &gt;&lt; (justify full/center),
<B>1f</B> |&lt;- (backtab),
<B>20</B> -&gt;| (tab), and
<B>56</B> [Back/down arrow] (start new paragraph).
<P>Other keycaps also occur. Those given above were meant
for use with the Notis WP word processor.
<P>
<H2><A NAME="ss5.15">5.15 Host Connected keyboard</A>
</H2>

<P>IBM makes the "Host Connected Keyboard" for PS/2 machines used as
3270 emulators.
<A HREF="http://www.delorie.com/djgpp/doc/rbinter/it/06/0.html">Delorie</A>
reports on the 122-key "Host Connected" keyboard.
It may have <B>5b</B> (F13), <B>5c</B> (F14), <B>5d</B> (F15),
<B>63</B> (F16), <B>64</B> (F17), <B>65</B> (F18),
<B>66</B> (F19), <B>67</B> (F20), <B>68</B> (F21),
<B>69</B> (F22), <B>6a</B> (F23), <B>6b</B> (F24).
<P>
<H2><A NAME="ss5.16">5.16 Safeway keyboards</A>
</H2>

<P>
<P>
<H3>Safeway SW10 keyboard</H3>

<P>The Safeway SW10 keyboard has the usual keys, including the three
Windows keys, and including Power, Sleep, Wake keys
(below Delete, End, PageDown) that do not produce scancodes
unless the Fn key (above Keypad-Minus) is pressed simultaneously.
This Fn key is used together with 11 keys: F1-F7, F11, Power, Sleep, Wake.
Fn-F11 disables the keyboard and another Fn-F11 enables it again.
Fn-F1/F2/F3/F4/F5/F6/F7 sets the repeat rate
(on my keyboard I measured 2.0/4.0/6.7/12/26/32/32 chars/sec respectively).
<P>
<H2><A NAME="ss5.17">5.17 A nameless USB keyboard</A>
</H2>

<P>This keyboard has four additional keys: Power (rose), Sleep (blue),
WakeUp (green) and FN (yellow).
In legacy mode these keys give the expected keycodes
(<B>e0</B> <B>5e</B>, <B>e0</B> <B>5f</B>, <B>e0</B> <B>63</B>,
and none, respectively), but the interaction is funny.
The four keys act as radiobuttons. Pressing one yields its key down code,
but releasing it does not produce any scancodes. Now pressing another
yields the down code for the other followed by the up code for the
previous one. The FN key follows this pattern, only its scancode sequence
is empty. Thus, pressing it causes the release code for a previous key
to be emitted. Pressing a key a second time gives no reaction: the radiobutton
was down already.
<P>
<H2><A NAME="ss5.18">5.18 Keyboards with many keys</A>
</H2>

<P>The current mechanism is unable to handle keyboards with more than
127 keys. But such keyboards seem to exist. Indeed, I now have a
<A HREF="scancodes-6.html#safeway23">Safeway SW23</A> that has 132 keys.
<P>Mark Hatle &lt;<CODE>fray@kernel.crashing.org</CODE>&gt; wrote:
<P><I>On some ADB keyboards there are actually 128 distinct keys.
They use scancodes 0-127.</I>
<P><I>ADB is Apple Desktop Bus.  The way that ADB works is similar to SCSI but
on a much slower level.  Specifically there is a communications chip in
the computer, ADB controller, and the same chip in the keyboard.  The
keyboard sends the scancode to its internal ADB controller, the internal
ADB controller then does any key mapping needed (not used under linux
from my understanding) and passes the data to the computer.</I>
<P><I>The ADB controller is capable of sending 256 distinct keys, but to my
knowledge only 128 are sent.  The key 0 is the 'a' and key 127 is the
"power button".</I>
<P><I>Also some of the Apple ADB keyboards have special "sound" and "function"
keys.  These keys (used in MacOS for volume up and down, screen contrast
changing, etc) also show up on the ADB scancodes.</I>
<P><I>ADB is used for both m68k and PPC Linux.  The m68k Macintosh port, and
the PPC - Power Macintosh and CHRP ports.</I>
<P>and later:
<P><I>Basically the scancode sequences for ADB are 16 bit. so there can actually
be 65536 scancodes, currently though only 128 are defined.</I>
<P>
<H2><A NAME="ss5.19">5.19 A keyboard treating PrtSc/SysRq like Pause/Break</A>
</H2>

<P>
<A NAME="mtek"></A> 
Mike A. Harris &lt;<CODE>mharris@meteng.on.ca</CODE>&gt;
reports a keyboard (an "Mtek" keyboard, model "K208")
where PrtSc/SysRq behaves like Pause/Break and also sends both make
and break sequences when pressed and nothing when released.
It does not repeat.
(Thus, he gets <B>e0</B> <B>2a</B> <B>e0</B> <B>37</B>
<B>e0</B> <B>b7</B> <B>e0</B> <B>aa</B> for PrtSc press,
and <B>54</B> <B>d4</B> for SysRq (i.e., Alt+PrtSc).)
Others have reported the same (for an unspecified type of keyboard).
<P>
<P>
<HR>
<A HREF="scancodes-6.html">Next</A>
<A HREF="scancodes-4.html">Previous</A>
<A HREF="scancodes.html#toc5">Contents</A>
</BODY>
</HTML>
